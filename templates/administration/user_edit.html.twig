{% extends "base.html.twig" %}
{% block title 'Gestion des utilisateurs' %}
{% block body %}
	<nav role="navigation" class="fr-breadcrumb" aria-label="vous êtes ici :">
		<button class="fr-breadcrumb__button" aria-expanded="false" aria-controls="breadcrumb-3891">Voir le fil d’Ariane</button>
		<div class="fr-collapse" id="breadcrumb-3891">
			<ol class="fr-breadcrumb__list">
				<li>
					<a class="fr-breadcrumb__link" id="breadcrumb-3883" href="/home">Accueil</a>
				</li>
				<li>
					<a class="fr-breadcrumb__link">Administration</a>
				</li>
				<li>
					<a class="fr-breadcrumb__link" href="/administration/users">Gestion des utilisateurs</a>
				</li>
				<li>
					<a class="fr-breadcrumb__link" aria-current="page">Modification de
						{{ user.firstname }}
						{{ user.lastname }}</a>
				</li>
			</ol>
		</div>
	</nav>
	<main role="main" id="content">
		<div class="fr-container fr-mt-8v fr-mt-md-14v fr-mb-2v fr-mb-md-8v">
			<div class="fr-grid-row fr-grid-row--gutters fr-grid-row--center">
				<div class="fr-col-12 fr-col-md-10 fr-col-lg-8">
					<h1 class="fr-h2">Modification de
						{{ user.firstname }}
						{{ user.lastname }}</h1>
				</div>
			</div>
		</div>
		<div class="fr-container fr-container--fluid fr-mb-md-14v">
			<div class="fr-grid-row fr-grid-row--gutters fr-grid-row--center">
				<div class="fr-col-12 fr-col-md-10 fr-col-lg-8">
					<div class="fr-container fr-background-alt--grey fr-px-md-0 fr-pt-10v fr-pt-md-14v fr-pb-6v fr-pb-md-10v">
						<div class="fr-grid-row fr-grid-row--gutters fr-grid-row--center">
							<div class="fr-col-12 fr-col-md-10 fr-col-lg-9">
								<div>
									<form class="fr-mb-0" id="login-9170" method="post" action="/administration/users/{{ user.id }}" data-turbo="false">
										<input type="hidden" name="_csrf_token" value="{{ _csrf_token }}">
										<fieldset class="fr-mb-0 fr-fieldset" id="login-9170-fieldset" aria-labelledby="login-9170-fieldset-legend login-9170-fieldset-messages">
											<div class="fr-fieldset__element">
												<p class="fr-hint-text">Sauf mention contraire, tous les champs sont obligatoires.</p>
											</div>
											{% if message != null %}
												<div class="fr-fieldset__element">
													<div id="alert-8983" class="fr-mb-2v fr-alert fr-alert--error fr-alert--sm">
														<p>{{ message }}</p>
													</div>
												</div>
											{% endif %}
											<div class="fr-fieldset__element {{ error == 2 ? 'fr-fieldset--error' : '' }}">
												<div class="fr-input-group" id="input-group-9175">
													<label class="fr-label" for="username-9166">
														Adresse email
														<span class="fr-hint-text">Format attendu : nom@domaine.fr</span>
													</label>
													<input value="{{ user.email }}" class="fr-input" autocapitalize="off" autocorrect="off" aria-describedby="username-9166-messages" name="username" id="username-9166" type="text" required>
													<div class="fr-messages-group" id="username-9166-messages" aria-live="polite"></div>
												</div>
											</div>
											<div class="fr-fieldset__element {{ error == 4 ? 'fr-fieldset--error' : '' }}">
												<div class="fr-input-group" id="input-group-19175">
													<label class="fr-label" for="firstname-19166">
														Prénom
													</label>
													<input value="{{ user.firstname }}" class="fr-input" autocapitalize="off" autocorrect="off" aria-describedby="firstname-19166-messages" name="firstname" id="firstname-19166" type="text" required>
													<div class="fr-messages-group" id="firstname-19166-messages" aria-live="polite"></div>
												</div>
											</div>
											<div class="fr-fieldset__element {{ error == 4 ? 'fr-fieldset--error' : '' }}">
												<div class="fr-input-group" id="input-group-19175">
													<label class="fr-label" for="lastname-19166">
														Nom de famille
													</label>
													<input value="{{ user.lastname }}" class="fr-input" autocapitalize="off" autocorrect="off" aria-describedby="lastname-19166-messages" name="lastname" id="lastname-19166" type="text" required>
													<div class="fr-messages-group" id="lastname-19166-messages" aria-live="polite"></div>
												</div>
											</div>
											<div class="fr-fieldset__element">
												<div class="fr-input-group" id="input-group-19175">
													<label class="fr-label" for="level-19166">
														Level
													</label>
													<select class="fr-select" aria-describedby="select-messages" id="select" name="level">
														<option {{ user.level.name == 'Administrateur' ? 'selected' : '' }} value="Administrateur">Administrateur</option>
														<option {{ user.level.name == 'Utilisateur' ? 'selected' : '' }} value="Utilisateur">Utilisateur</option>
													</select>
													<div class="fr-messages-group" id="level-19166-messages" aria-live="polite"></div>
												</div>
											</div>
											<div class="flex justify-between w-full">
												<div class="fr-fieldset__element">
													<ul class="fr-mt-2v fr-btns-group fr-btns-group--inline-reverse fr-btns-group--inline-sm fr-btns-group fr-btns-group--inline-reverse fr-btns-group--inline-sm">
														<li>
															<a class="fr-btn fr-btn--secondary" id="button-9176" href="/administration/users">
																Annuler
															</a>
														</li>
													</ul>
												</div>
												<div class="fr-fieldset__element">
													<ul class="fr-mt-2v fr-btns-group fr-btns-group--right fr-btns-group--inline-reverse fr-btns-group--inline-sm fr-btns-group fr-btns-group--right fr-btns-group--inline-reverse fr-btns-group--inline-sm">
														<li>
															<button class="fr-btn" id="button-9176" type="submit">
																Valider
															</button>
														</li>
													</ul>
												</div>
											</div>
											<div class="fr-messages-group" id="login-9170-fieldset-messages" aria-live="polite"></div>
										</fieldset>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
{% endblock %}
